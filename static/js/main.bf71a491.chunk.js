(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,n){e.exports={gelleryList:"ImageGallery_gelleryList__1dCZq",galleryItem:"ImageGallery_galleryItem__2DABf"}},11:function(e,t,n){e.exports={overlay:"Modal_overlay__3lXkG",modalCont:"Modal_modalCont__3Mku4"}},13:function(e,t,n){e.exports={button:"Button_button__dd2ya"}},14:function(e,t,n){e.exports={galleryImage:"ImageGalleryItem_galleryImage__TsXX1"}},16:function(e,t,n){e.exports={spiner:"Spiner_spiner__3Z8D_"}},22:function(e,t,n){},23:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),o=n.n(r),i=(n(22),n(12)),s=n(3),u=(n(23),n(4)),l=(n(24),n(17)),b=n(5),j=n.n(b),m=n(1);function f(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(s.a)(n,2),r=c[0],o=c[1];return Object(m.jsx)("header",{className:j.a.searchbar,children:Object(m.jsxs)("form",{className:j.a.form,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):u.b.error("enter a query")},children:[Object(m.jsx)("button",{type:"submit",className:j.a.button,children:Object(m.jsx)(l.a,{className:j.a.button_icon})}),Object(m.jsx)("input",{className:j.a.input,type:"text",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())},placeholder:"Search images and photos"})]})})}var g=n(10),d=n.n(g),h=n(13),O=n.n(h);var _=function(e){var t=e.clickBtn;return Object(m.jsx)("button",{type:"button",className:O.a.button,onClick:t,children:"Load more"})},p=n(14),x=n.n(p),y=n(2),v=n.n(y);function k(e){var t=e.webformatURL,n=e.largeImageURL,a=e.tags,c=e.clickImg;return Object(m.jsx)("img",{src:t,alt:a,className:x.a.galleryImage,"data-source":n,onClick:function(){return c({src:n,alt:a})}})}k.prototype={webformatURL:v.a.string.isRequired,largeImageURL:v.a.string.isRequired,tags:v.a.string.isRequired,clickImg:v.a.func.isRequired};var w=k,I=n(15),S=n.n(I),L=n(16),N=n.n(L);var C=function(){return Object(m.jsx)("div",{className:N.a.spiner,children:Object(m.jsx)(S.a,{type:"Circles",color:"#00BFFF",margin:"0 auto",height:60,width:60})})},R=function(e){var t=e.images,n=e.clickItem,a=e.loading,c=e.clickBtn;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:d.a.gelleryList,children:t.map((function(e){return Object(m.jsx)("li",{className:d.a.galleryItem,children:Object(m.jsx)(w,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags,clickImg:n})},e.id)}))}),a&&Object(m.jsx)(C,{}),t.length>0&&Object(m.jsx)(_,{clickBtn:c})]})},q=n(11),B=n.n(q),U=function(e){var t=e.onClose,n=e.children;Object(a.useEffect)((function(){return window.addEventListener("keydown",c),function(){return window.removeEventListener("keydown",c)}}),[]);var c=function(e){"Escape"===e.code&&t()};return Object(m.jsx)("div",{className:B.a.overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(m.jsx)("div",{className:B.a.modalCont,children:n})})};var E=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(s.a)(r,2),l=o[0],b=o[1],j=Object(a.useState)(!1),g=Object(s.a)(j,2),d=g[0],h=g[1],O=Object(a.useState)({}),_=Object(s.a)(O,2),p=_[0],x=_[1],y=Object(a.useState)(!1),v=Object(s.a)(y,2),k=v[0],w=v[1],I=Object(a.useState)(1),S=Object(s.a)(I,2),L=S[0],N=S[1],C=Object(a.useState)(null),q=Object(s.a)(C,2),B=q[0],E=q[1];Object(a.useEffect)((function(){""!==n.trim()&&F()}),[n,L]);var F=function(){w(!0),function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("24124599-81915d8fff3f3b2b5bfb5c22e","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("No images found on request"))}))}(n,L).then((function(e){b([].concat(Object(i.a)(l),Object(i.a)(e.hits))),e.hits.length>0?(u.b.success("request completed"),L>1&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})):u.b.error("No images found on request")})).catch((function(e){E(e),u.b.error(B)})).finally((function(){return w(!1)}))},D=function(){h((function(e){return!e}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{onSubmit:function(e){c(e),N(1),b([])}}),Object(m.jsx)(R,{images:l,clickItem:function(e){var t=e.src,n=e.alt;x({alt:n,src:t}),D()},loading:k,clickBtn:function(){N((function(e){return e+1}))}}),d&&Object(m.jsx)(U,{onClose:D,children:Object(m.jsx)("img",{src:p.src,alt:p.alt,width:960})}),Object(m.jsx)(u.a,{})]})};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root"))},5:function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__2JsL8",form:"Searchbar_form__3c0Os",button:"Searchbar_button__2YDsN",button_icon:"Searchbar_button_icon__2368j",input:"Searchbar_input__3y_0k"}}},[[46,1,2]]]);
//# sourceMappingURL=main.bf71a491.chunk.js.map